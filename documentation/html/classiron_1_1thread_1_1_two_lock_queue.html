<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Iron Sword: iron::thread::TwoLockQueue&lt; DataType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Iron Sword
   &#160;<span id="projectnumber">0.0.0.1</span>
   </div>
   <div id="projectbrief">A C++ Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceiron.html">iron</a></li><li class="navelem"><a class="el" href="namespaceiron_1_1thread.html">thread</a></li><li class="navelem"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">TwoLockQueue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classiron_1_1thread_1_1_two_lock_queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iron::thread::TwoLockQueue&lt; DataType &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Two-lock queue that is thread-safe, simple and fast.  
 <a href="classiron_1_1thread_1_1_two_lock_queue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_two_lock_queue_8h_source.html">TwoLockQueue.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2e633617a2b20f5c1a4c9b623f07f02d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html#a2e633617a2b20f5c1a4c9b623f07f02d">TwoLockQueue</a> ()</td></tr>
<tr class="separator:a2e633617a2b20f5c1a4c9b623f07f02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31f412a8d4abecb18a61277adea52ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html#ad31f412a8d4abecb18a61277adea52ed">~TwoLockQueue</a> ()</td></tr>
<tr class="separator:ad31f412a8d4abecb18a61277adea52ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a117d9177569c8157effbc4ce8b969aa9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html#a117d9177569c8157effbc4ce8b969aa9">push</a> (DataType e)</td></tr>
<tr class="separator:a117d9177569c8157effbc4ce8b969aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a30542901b60edc8e54cd23ee29248"><td class="memItemLeft" align="right" valign="top">DataType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html#ae6a30542901b60edc8e54cd23ee29248">pop</a> ()</td></tr>
<tr class="separator:ae6a30542901b60edc8e54cd23ee29248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c4c7f6d6501eaa86af39d3653e62bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html#a97c4c7f6d6501eaa86af39d3653e62bd">empty</a> ()</td></tr>
<tr class="separator:a97c4c7f6d6501eaa86af39d3653e62bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename DataType&gt;<br />
class iron::thread::TwoLockQueue&lt; DataType &gt;</h3>

<p>Two-lock queue that is thread-safe, simple and fast. </p>
<p>This class is based on queue presente din 1996 and it's perfect for what is necessary. The queue is based on nodes/linked lists and two locks that ensure thread-safety. Standard behaviour is to simply use the push and pop function to add the tasks and the queue will handle everything else and will make sure there are no problem of nullptrs or empty queue.</p>
<p>This queue was created to be used in a concurrent environment and store jobs. However, it's also a template, which means it can be used for anything.</p>
<p>(Following text based on the paper described at the top of this file (page 3))</p>
<p>Linked list that provides some safety in the following aspects.</p>
<p>1- The list is always connected because when a node is inserted, the next pointer is not set to nullptr before it's freed and no node is freed until it's deleted.</p>
<p>2- Nodes are inserted after the last node in the list because they are inserted after the node pointed to by the tail and tail always points to the last node unless it's protected by the tail lock.</p>
<p>3- Nodes are deleted from the beginning of the list because they are deleted only when they are pointed by head and head always points to the beginning of the list.</p>
<p>4- Head always points to the first node in the list because it only changes its value to the next node atomically.</p>
<p>5- Tail always points to a node in the list because it never falls behind head.</p>
<p>For commentaries regarding the code/algorithms, check the link to the paper in this comment.</p>
<p>the paper from which the queue was based: <a href="http://www.cs.rochester.edu/u/scott/papers/1996_PODC_queues.pdf">http://www.cs.rochester.edu/u/scott/papers/1996_PODC_queues.pdf</a> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2e633617a2b20f5c1a4c9b623f07f02d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DataType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">iron::thread::TwoLockQueue</a>&lt; DataType &gt;::<a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">TwoLockQueue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the queue. </p>

</div>
</div>
<a class="anchor" id="ad31f412a8d4abecb18a61277adea52ed"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DataType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">iron::thread::TwoLockQueue</a>&lt; DataType &gt;::~<a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">TwoLockQueue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroys queue and its contents. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a97c4c7f6d6501eaa86af39d3653e62bd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DataType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">iron::thread::TwoLockQueue</a>&lt; DataType &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the list is empty, false if not.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the list is empty, false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="ae6a30542901b60edc8e54cd23ee29248"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DataType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DataType <a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">iron::thread::TwoLockQueue</a>&lt; DataType &gt;::pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Safely pops the first element of the list.</p>
<dl class="section return"><dt>Returns</dt><dd>The popped element. </dd></dl>

</div>
</div>
<a class="anchor" id="a117d9177569c8157effbc4ce8b969aa9"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename DataType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classiron_1_1thread_1_1_two_lock_queue.html">iron::thread::TwoLockQueue</a>&lt; DataType &gt;::push </td>
          <td>(</td>
          <td class="paramtype">DataType&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Safely pushes the given element into the bottom of the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The element to store. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/Carlos/Documents/Visual Studio 2013/Projects/Iron/iron/src/<a class="el" href="_two_lock_queue_8h_source.html">TwoLockQueue.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 2 2014 15:25:17 for Iron Sword by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
